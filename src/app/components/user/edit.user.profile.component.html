<div *ngIf="user">
  <div *ngIf="uploading" class="progress">
    <div class="determinate" style.width.pct={{progress}}></div>
  </div>


  <div class="row" *ngIf="editUserForm">
    <form class="col s12" [formGroup]="editUserForm">
      <div class="row">
        <div class="input-field col s12 m6 l6">
          <edit-input-field [formGroup]="editUserForm" [propertyField]="firstNameField"></edit-input-field>
        </div>
        <div class="input-field col s12 m6 l6">
          <edit-input-field [formGroup]="editUserForm" [propertyField]="lastNameField"></edit-input-field>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12 m6 l6">
          <edit-input-field [formGroup]="editUserForm" [propertyField]="emailField"></edit-input-field>
        </div>
        <div class="input-field col s12 m6 l6">
          <edit-input-field [formGroup]="editUserForm" [propertyField]="backNumberField"></edit-input-field>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12 m6 l6">
          <select id="position" formControlName="position" dropdown-directive (changeEvent)="updatePosition($event)">
            <option value="" disabled selected>Wähle deine Position aus</option>
            <option *ngFor="let position of positions" value="{{position.name}}">{{position.name}}</option>
          </select>
          <label for="position" class="active">Position</label>
        </div>
        <div class="input-field col s12 m6 l6">
          <select id="team" formControlName="team" dropdown-directive (changeEvent)="updateTeamId($event)">
            <option value="" disabled selected>Wähle deine Mannschaft aus</option>
            <optgroup *ngFor="let oldClass of oldClasses" label="{{oldClass.name}}">
              <option *ngFor="let team of oldClass.teams" value="{{team.id}}">{{team.name}}</option>
            </optgroup>
          </select>
          <label for="team" class="active">Mannschaft</label>
        </div>
      </div>
      <div class="relative">
        <a (click)="updateUserProfile(editUserForm.value)"
           class="waves-effect waves-light btn submit-btn align-right"
           [ngClass]="{'disabled': !editUserForm.valid}">
          Aktualisieren
        </a>
        <a (click)="locationService.goBack()"
           class="waves-effect waves-light btn submit-btn align-left">
          Zurück
        </a>
      </div>
    </form>
  </div>
</div>
