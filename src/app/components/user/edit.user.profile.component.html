<div *ngIf="user">
  <div *ngIf="uploading" class="progress">
    <div class="determinate" style.width.pct={{progress}}></div>
  </div>


  <div class="row" *ngIf="editUserForm">
    <form class="col s12" [formGroup]="editUserForm">
      <div class="row">
        <div class="input-field col s6">
          <edit-input-field [formGroup]="editUserForm" [propertyField]="firstNameField"></edit-input-field>
        </div>
        <div class="input-field col s6">
          <edit-input-field [formGroup]="editUserForm" [propertyField]="lastNameField"></edit-input-field>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
          <edit-input-field [formGroup]="editUserForm" [propertyField]="emailField"></edit-input-field>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
          <edit-input-field [formGroup]="editUserForm" [propertyField]="backNumberField"></edit-input-field>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s6">
          <select id="position" formControlName="position" materialize-dropdown>
            <option value="" disabled selected>Wähle deine Position aus</option>
            <option *ngFor="let position of positions" value="{{position.name}}">{{position.name}}</option>
          </select>
          <label for="position" class="active">Position</label>
        </div>
        <div class="input-field col s6">
          <select id="team" formControlName="team" materialize-dropdown>
            <option value="" disabled selected>Wähle deine Mannschaft aus</option>
            <option *ngFor="let team of teams" value="{{team.id}}">{{team.name}}</option>
          </select>
          <label for="team" class="active">Mannschaft</label>
        </div>
      </div>
      <div class="row">
        <div class="file-field input-field col s12">
          <div class="btn">
            <span>Datei auswählen</span>
            <input type="file"
                   ngFileSelect
                   [options]="options"
                   (onUpload)="handleUpload($event)"
                   (beforeUpload)="beforeUpload($event)">
          </div>
          <div class="file-path-wrapper">
            <input class="file-path validate" type="text">
          </div>
        </div>
      </div>
      <div class="relative">
        <a (click)="updateUserProfile(editUserForm.value)"
           class="waves-effect waves-light btn submit-btn align-right"
           [ngClass]="{'disabled': uploading}">
          Aktualisieren
        </a>
        <a (click)="locationService.goBack()"
           class="waves-effect waves-light btn submit-btn align-left">
          Aktualisieren
        </a>
      </div>
    </form>
  </div>
</div>
